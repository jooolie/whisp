!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t(e.ReactSpringHooks={},e.React,e.ReactDOM)}(this,function(e,V,v){"use strict";function O(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}V=V&&V.hasOwnProperty("default")?V.default:V,v=v&&v.hasOwnProperty("default")?v.default:v;var t=void 0,n=void 0,j=[],g=function(e){return"undefined"!=typeof window&&window.requestAnimationFrame(e)},i=function(e){return"undefined"!=typeof window&&window.cancelAnimationFrame(e)},l=void 0,u=function(){return Date.now()},r=void 0,a=void 0,o=function(e,t){return n={fn:e,transform:t}},s=function(e){return j=e},c=function(e){return t=e},f=function(e){return l=e},d=function(e){return r=e},p=function(e){return a=e},h=Object.freeze({get bugfixes(){return t},get applyAnimatedValues(){return n},get colorNames(){return j},get requestFrame(){return g},get cancelFrame(){return i},get interpolation(){return l},get now(){return u},get defaultElement(){return r},get createAnimatedStyle(){return a},injectApplyAnimatedValues:o,injectColorNames:s,injectBugfixes:c,injectInterpolation:f,injectFrame:function(e,t){var r;return g=(r=[e,t])[0],i=r[1],r},injectNow:function(e){return u=e},injectDefaultElement:d,injectCreateAnimatedStyle:p});function m(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var T=function(){function e(){}var t=e.prototype;return t.attach=function(){},t.detach=function(){},t.getValue=function(){},t.getAnimatedValue=function(){return this.getValue()},t.addChild=function(e){},t.removeChild=function(e){},t.getChildren=function(){return[]},e}();function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b=function(t){return Object.keys(t).map(function(e){return t[e]})},w=function(i){function e(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=i.call.apply(i,[this].concat(r))||this).children=[],t.getChildren=function(){return t.children},t.getPayload=function(e){return void 0===e&&(e=void 0),void 0!==e&&t.payload?t.payload[e]:t.payload||y(y(t))},t}m(e,i);var t=e.prototype;return t.addChild=function(e){0===this.children.length&&this.attach(),this.children.push(e)},t.removeChild=function(e){var t=this.children.indexOf(e);-1!==t?(this.children.splice(t,1),0===this.children.length&&this.detach()):"production"!==process.env.NODEENV&&console.warn("Trying to remove a child that doesn't exist")},e}(T),k=function(i){function e(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=i.call.apply(i,[this].concat(r))||this).payload=[],t.getAnimatedValue=function(){return t.getValue()},t.attach=function(){return t.payload.forEach(function(e){return e instanceof T&&e.addChild(y(y(t)))})},t.detach=function(){return t.payload.forEach(function(e){return e instanceof T&&e.removeChild(y(y(t)))})},t}return m(e,i),e}(w),A=function(i){function e(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=i.call.apply(i,[this].concat(r))||this).payload={},t.getAnimatedValue=function(){return t.getValue(!0)},t.attach=function(){return b(t.payload).forEach(function(e){return e instanceof T&&e.addChild(y(y(t)))})},t.detach=function(){return b(t.payload).forEach(function(e){return e instanceof T&&e.removeChild(y(y(t)))})},t}return m(e,i),e.prototype.getValue=function(e){void 0===e&&(e=!1);var t={};for(var r in this.payload){var n=this.payload[r];(!e||n instanceof T)&&(t[r]=n instanceof T?n[e?"getAnimatedValue":"getValue"]():n)}return t},e}(w);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var R=function(){function s(){}return s.create=function(e,t){if("function"==typeof e)return e;if(l&&e.output&&"string"==typeof e.output[0])return l(e);if(Array.isArray(e))return s.create({range:e,output:t});var r=e.output,n=e.range||[0,1],i=e.easing||function(e){return e},a="extend",o=e.map;void 0!==e.extrapolateLeft?a=e.extrapolateLeft:void 0!==e.extrapolate&&(a=e.extrapolate);var u="extend";return void 0!==e.extrapolateRight?u=e.extrapolateRight:void 0!==e.extrapolate&&(u=e.extrapolate),function(e){var t=function(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}(e,n);return function(e,t,r,n,i,a,o,u,s){var l=s?s(e):e;if(l<t){if("identity"===o)return l;"clamp"===o&&(l=t)}if(r<l){if("identity"===u)return l;"clamp"===u&&(l=r)}if(n===i)return n;if(t===r)return e<=t?n:i;t===-1/0?l=-l:r===1/0?l-=t:l=(l-t)/(r-t);l=a(l),n===-1/0?l=-l:i===1/0?l+=n:l=l*(i-n)+n;return l}(e,n[t],n[t+1],r[t],r[t+1],i,a,u,o)}},s}();var x=function(i){function a(e,t,r){var n;return(n=i.call(this)||this).getValue=function(){var e;return(e=n).calc.apply(e,n.payload.map(function(e){return e.getValue()}))},n.updateConfig=function(e,t){return n.calc=R.create(e,t)},n.interpolate=function(e,t){return new a(y(y(n)),e,t)},n.payload=e instanceof k&&!e.updateConfig?e.payload:Array.isArray(e)?e:[e],n.calc=R.create(t,r),n}return m(a,i),a}(k);var K=function(t){function e(e){var r;return(r=t.call(this)||this).getValue=function(){return r.value},r.updateStyles=function(){return function t(e,r){"function"==typeof e.update?r.add(e):e.getChildren().forEach(function(e){return t(e,r)})}(y(y(r)),r.animatedStyles)},r.updateValue=function(e){return r.flush(r.value=e)},r.interpolate=function(e,t){return new x(y(y(r)),e,t)},r.value=e,r.animatedStyles=new Set,r.done=!1,r.startPosition=e,r.lastPosition=e,r.lastVelocity=void 0,r.lastTime=void 0,r.controller=void 0,r}m(e,t);var r=e.prototype;return r.flush=function(){0===this.animatedStyles.size&&this.updateStyles(),this.animatedStyles.forEach(function(e){return e.update()})},r.prepare=function(e){void 0===this.controller&&(this.controller=e),this.controller===e&&(this.startPosition=this.value,this.lastPosition=this.value,this.lastVelocity=e.isActive?this.lastVelocity:void 0,this.lastTime=e.isActive?this.lastTime:void 0,this.done=!1,this.animatedStyles.clear())},e}(w),q=function(t){function n(e){var r;return(r=t.call(this)||this).setValue=function(e){return e.length===r.payload.length&&e.forEach(function(e,t){return r.payload[t].setValue(e)})},r.getValue=function(){return r.payload.map(function(e){return e.getValue()})},r.interpolate=function(e,t){return new x(y(y(r)),e,t)},r.payload=e instanceof n?e.payload:e.map(function(e){return new K(e)}),r}return m(n,t),n}(k);function I(e,t){return null==e?t:e}function W(e){return void 0!==e?Array.isArray(e)?e:[e]:[]}function L(e,t){if(typeof e!=typeof t)return!1;if("string"==typeof e||"number"==typeof e)return e===t;var r;for(r in e)if(!(r in t))return!1;for(r in t)if(e[r]!==t[r])return!1;return void 0!==r||e===t}function z(e,t){for(var r=arguments.length,n=new Array(2<r?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return"function"==typeof e?e.apply(void 0,[t].concat(n)):e}function D(t){return Object.keys(t).map(function(e){return t[e]})}function H(n){var e,i=((e=n).to,e.from,e.config,e.native,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.impl,e.inject,e.delay,e.attach,e.destroyed,e.track,e.interpolateTo,e.autoStart,O(e,["to","from","config","native","onStart","onRest","onFrame","children","reset","reverse","force","immediate","impl","inject","delay","attach","destroyed","track","interpolateTo","autoStart"])),t=Object.keys(n).reduce(function(e,t){var r;return void 0!==i[t]?e:M({},e,((r={})[t]=n[t],r))},{});return M({to:i},t)}function E(e,t){var r,n=t[0],i=t[1];return M({},e,((r={})[n]=new(Array.isArray(i)?q:K)(i),r))}var P=function(r){function e(e){var t;return t=r.call(this)||this,!(e=e||{}).transform||e.transform instanceof T||(e=n.transform(e)),t.payload=e,t}return m(e,r),e}(A),S={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},C="[-+]?\\d*\\.?\\d+",F=C+"%";function N(){return"\\(\\s*("+Array.prototype.slice.call(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var U=new RegExp("rgb"+N(C,C,C)),_=new RegExp("rgba"+N(C,C,C,C)),G=new RegExp("hsl"+N(C,F,F)),$=new RegExp("hsla"+N(C,F,F,C)),B=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Z=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,J=/^#([0-9a-fA-F]{6})$/,Q=/^#([0-9a-fA-F]{8})$/;function X(e,t,r){return r<0&&(r+=1),1<r&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Y(e,t,r){var n=r<.5?r*(1+t):r+t-r*t,i=2*r-n,a=X(i,n,e+1/3),o=X(i,n,e),u=X(i,n,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*u)<<8}function ee(e){var t=parseInt(e,10);return t<0?0:255<t?255:t}function te(e){return(parseFloat(e)%360+360)%360/360}function re(e){var t=parseFloat(e);return t<0?0:1<t?255:Math.round(255*t)}function ne(e){var t=parseFloat(e);return t<0?0:100<t?1:t/100}function ie(e){var t,r,n="number"==typeof(t=e)?t>>>0===t&&0<=t&&t<=4294967295?t:null:(r=J.exec(t))?parseInt(r[1]+"ff",16)>>>0:S.hasOwnProperty(t)?S[t]:(r=U.exec(t))?(ee(r[1])<<24|ee(r[2])<<16|ee(r[3])<<8|255)>>>0:(r=_.exec(t))?(ee(r[1])<<24|ee(r[2])<<16|ee(r[3])<<8|re(r[4]))>>>0:(r=B.exec(t))?parseInt(r[1]+r[1]+r[2]+r[2]+r[3]+r[3]+"ff",16)>>>0:(r=Q.exec(t))?parseInt(r[1],16)>>>0:(r=Z.exec(t))?parseInt(r[1]+r[1]+r[2]+r[2]+r[3]+r[3]+r[4]+r[4],16)>>>0:(r=G.exec(t))?(255|Y(te(r[1]),ne(r[2]),ne(r[3])))>>>0:(r=$.exec(t))?(Y(te(r[1]),ne(r[2]),ne(r[3]))|re(r[4]))>>>0:null;return null===n?e:"rgba("+((4278190080&(n=n||0))>>>24)+", "+((16711680&n)>>>16)+", "+((65280&n)>>>8)+", "+(255&n)/255+")"}var ae=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,oe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ue=new RegExp("("+Object.keys(S).join("|")+")","g");var se=function(e){return"auto"===e};var le={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","Ms","Moz","O"];le=Object.keys(le).reduce(function(n,i){return ce.forEach(function(e){return n[(t=e,r=i,t+r.charAt(0).toUpperCase()+r.substring(1))]=n[i];var t,r}),n},le);var fe={};p(function(e){return new P(e)}),d("div"),f(function(r){var n=r.output.map(function(e){return e.replace(oe,ie)}).map(function(e){return e.replace(ue,ie)}),i=n[0].match(ae).map(function(){return[]});n.forEach(function(e){e.match(ae).forEach(function(e,t){return i[t].push(+e)})});var a=n[0].match(ae).map(function(e,t){return R.create(M({},r,{output:i[t]}))});return/^rgb/.test(n[0]),function(e){var t=0;return n[0].replace(ae,function(){return a[t++](e)}).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,function(e,t,r,n,i){return"rgba("+Math.round(t)+", "+Math.round(r)+", "+Math.round(n)+", "+i+")"})}}),s(S),c(function(d,p){var h=d.from,m=d.to,e=d.children;if(D(m).some(se)||D(h).some(se)){var t,r,n,i,a,o=e((r=(t=d).from,n=t.to,i=t.native,a=Object.entries(M({},r,n)),i?a.reduce(E,{}):M({},r,n)));if(o){var u=o.props.style;return V.createElement(o.type,M({key:o.key?o.key:void 0},o.props,{style:M({},u,{position:"absolute",visibility:"hidden"}),ref:function(e){if(e){var t,r,n=v.findDOMNode(e),i=getComputedStyle(n);if("border-box"===i.boxSizing)t=n.offsetWidth,r=n.offsetHeight;else{var a=parseFloat(i.paddingLeft||0)+parseFloat(i.paddingRight||0),o=parseFloat(i.paddingTop||0)+parseFloat(i.paddingBottom||0),u=parseFloat(i.borderLeftWidth||0)+parseFloat(i.borderRightWidth||0),s=parseFloat(i.borderTopWidth||0)+parseFloat(i.borderBottomWidth||0);t=n.offsetWidth-a-u,r=n.offsetHeight-o-s}var l=(c=t,f=r,function(e,t){var r,n=t[0],i=t[1];return M({},e,((r={})[n]="auto"===i?~n.indexOf("height")?f:c:i,r))});p(M({},d,{from:Object.entries(h).reduce(l,h),to:Object.entries(m).reduce(l,m)}))}var c,f}}))}}}),o(function(e,t){if(!e.nodeType||void 0===e.setAttribute)return!1;var r,n,i,a=t.style,o=t.children,u=t.scrollTop,s=t.scrollLeft,l=O(t,["style","children","scrollTop","scrollLeft"]);for(var c in void 0!==u&&(e.scrollTop=u),void 0!==s&&(e.scrollLeft=s),void 0!==o&&(e.textContent=o),a)if(a.hasOwnProperty(c)){var f=0===c.indexOf("--"),d=(n=a[r=c],i=f,null==n||"boolean"==typeof n||""===n?"":i||"number"!=typeof n||0===n||le.hasOwnProperty(r)&&le[r]?(""+n).trim():n+"px");"float"===c&&(c="cssFloat"),f?e.style.setProperty(c,d):e.style[c]=d}for(var p in l){var h=fe[p]||(fe[p]=p.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}));void 0!==e.getAttribute(h)&&e.setAttribute(h,l[p])}},function(e){return e});var de=function(n){function e(e,t){var r;return r=n.call(this)||this,e.style&&(e=M({},e,{style:a(e.style)})),r.payload=e,r.update=t,r.attach(),r}return m(e,n),e}(A);function pe(i){var r=function(r){function e(e){var t;return(t=r.call(this)||this).callback=function(){t.node&&(!1===n.fn(t.node,t.propsAnimated.getAnimatedValue(),y(y(t)))&&t.forceUpdate())},t.attachProps(e),t}m(e,r);var t=e.prototype;return t.componentWillUnmount=function(){this.propsAnimated&&this.propsAnimated.detach()},t.setNativeProps=function(e){!1===n.fn(this.node,e,this)&&this.forceUpdate()},t.attachProps=function(e){e.forwardRef;var t=O(e,["forwardRef"]),r=this.propsAnimated;this.propsAnimated=new de(t,this.callback),r&&r.detach()},t.shouldComponentUpdate=function(e){var t=e.style,r=O(e,["style"]),n=this.props,i=n.style;return(!L(O(n,["style"]),r)||!L(i,t))&&(this.attachProps(e),!0)},t.render=function(){var n=this,e=(this.props.forwardRef,this.propsAnimated.getValue()),t=(e.scrollTop,e.scrollLeft,O(e,["scrollTop","scrollLeft"]));return V.createElement(i,M({},t,{ref:function(e){return n.node=(t=e,(r=n.props.forwardRef)&&("function"==typeof r?r(t):"object"==typeof r&&(r.current=t)),t);var t,r}}))},e}(V.Component);return V.forwardRef(function(e,t){return V.createElement(r,M({},e,{forwardRef:t}))})}var he,me,ve,ge,ye,be,we,ke,Ae,Re,xe,Ve,Oe,Ee,Pe,Se,Ce,Fe,je,Te,Me,Ke,qe=function(){function e(e,t){var r=this;void 0===t&&(t={native:!0,track:!0,interpolateTo:!0,autoStart:!0}),this.getValues=function(){return r.props.native?r.interpolations:r.animatedProps},this.raf=function(){for(he=u(),ve=me=!0,ge=0;ge<r.configs.length;ge++)if((be=r.configs[ge]).delay&&he-r.startTime<be.delay)me=!1;else{for(ye=0;ye<be.animatedValues.length;ye++)if(we=be.animatedValues[ye],ke=we.lastPosition,Ae=be.fromValues[ye],Re=be.parent.track&&be.parent.track.getPayload(ye),xe=Re?Re.getValue():be.toValues[ye],!we.done)if(be.immediate||"string"==typeof Ae||"string"==typeof xe)we.updateValue(xe),we.done=!0;else{if(ve=!1,void 0!==be.duration)ke=Ae+be.easing((he-r.startTime-be.delay)/be.duration)*(xe-Ae),Ve=he>=r.startTime+be.delay+be.duration;else{for(Oe=void 0!==we.lastTime?we.lastTime:he,Ee=void 0!==we.lastVelocity?we.lastVelocity:be.initialVelocity,Oe+64<he&&(Oe=he),Pe=Math.floor(he-Oe),je=0;je<Pe;++je)Se=-be.tension*(ke-xe),Ce=-be.friction*Ee,Fe=(Se+Ce)/be.mass,ke+=1*(Ee+=1*Fe/1e3)/1e3;Te=!(!be.clamp||0===be.tension)&&(Ae<xe?xe<ke:ke<xe),Me=Math.abs(Ee)<=be.precision,Ke=0===be.tension||Math.abs(xe-ke)<=be.precision,Ve=Te||Me&&Ke,we.lastVelocity=Ee,we.lastTime=he}be.parent.track&&!Re.done&&(Ve=!1),Ve?(we.value!==xe&&(ke=xe),we.done=!0):me=!1,we.updateValue(ke),we.lastPosition=ke}!r.props.onFrame&&r.props.native||(r.animatedProps[be.name]=be.interpolation.getValue())}if(!r.props.onFrame&&r.props.native||(!r.props.native&&r.onUpdate&&r.onUpdate(),r.props.onFrame&&r.props.onFrame(r.animatedProps)),me)return r.debouncedOnEnd({finished:!0,noChange:ve});r.frame=g(r.raf)},this.dependents=new Set,this.isActive=!1,this.hasChanged=!1,this.props={},this.merged={},this.animations={},this.interpolations={},this.animatedProps={},this.configs=[],this.frame=void 0,this.startTime=void 0,this.lastTime=void 0,this.update(M({},e,t))}var t=e.prototype;return t.update=function(e){var V=this;this.props=M({},this.props,e);var t=this.props.interpolateTo?H(this.props):this.props,r=t.from,O=void 0===r?{}:r,n=t.to,i=void 0===n?{}:n,a=t.config,E=void 0===a?{}:a,o=t.delay,P=void 0===o?0:o,u=t.reverse,s=t.attach,S=t.reset,C=t.immediate,l=(t.native,t.onFrame,t.track,t.autoStart);if(u){var c=[i,O];O=c[0],i=c[1]}this.hasChanged=!1;var F=s&&s(this),f=S?{}:this.merged;if(this.merged=M({},O,f,i),this.animations=Object.entries(this.merged).reduce(function(e,t,r){var n,i,a,o,u,s=t[0],l=t[1],c=!S&&e[s]||{},f=l;F&&F.animations[s]&&(l=(n=F.animations[s]).parent);var d=l instanceof T;d||(i=Array.isArray(l),o="number"==typeof l,a="string"==typeof l&&!l.startsWith("#")&&!/\d/.test(l)&&!j[l],u=!o&&!a&&!i);var p,h,m,v=d?l.getPayload():l;if(!d&&L(c.changes,v))return e;V.hasChanged=!0;var g=void 0!==O[s]?O[s]:l,y=z(E,s);if(d){if(h=c.parent||new l.constructor(l.getValue()),m=c.interpolation||h,n&&n.interpolation.calc){var b={output:[m.calc?m.calc(h.value):n.interpolation.calc(0),f]};m.calc?m.updateConfig(b):m=h.interpolate(b),h.value=0}}else if(o||a)h=m=c.parent||new K(g);else if(i)h=m=c.parent||new q(g);else if(u){var w=c.interpolation&&c.interpolation.calc(c.parent.value);c.parent?(h=c.parent).value=0:h=new K(0);var k={output:[void 0!==w?w:g,l]};c.interpolation?(m=c.interpolation,c.interpolation.updateConfig(k)):m=h.interpolate(k),l=1}h.controller=V,d&&l.controller!==V&&l.controller.dependents.add(V),h.track=d?l:void 0,z(C,s)&&(h.value=l);var A=W(h.getPayload()),R=W(h.getValue()),x=W(d?l.getValue():l);return A.forEach(function(e){return e.prepare(V)}),M({},e,((p={})[s]=M({},c,{name:s,parent:h,interpolation:m,animatedValues:A,fromValues:R,toValues:x,changes:v,immediate:z(C,s),delay:I(y.delay,P||0),initialVelocity:I(y.velocity,0),clamp:I(y.clamp,!1),precision:I(y.precision,.01),tension:I(y.tension,170),friction:I(y.friction,26),mass:I(y.mass,1),duration:y.duration,easing:I(y.easing,function(e){return e})}),p))},this.animations),this.hasChanged)for(var d in this.configs=D(this.animations),this.animatedProps={},this.interpolations={},this.animations)this.interpolations[d]=this.animations[d].interpolation,this.animatedProps[d]=this.animations[d].interpolation.getValue();for(var p=arguments.length,h=new Array(1<p?p-1:0),m=1;m<p;m++)h[m-1]=arguments[m];return(l||h.length)&&this.start.apply(this,h),this.getValues()},t.start=function(e,t){if(this.startTime=u(),this.isActive&&this.stop(),this.isActive=!0,this.onEnd="function"==typeof e&&e,this.onUpdate=t,this.props.onStart&&this.props.onStart(),this.frame=g(this.raf),this.props.track){var r=this.dependents,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var o=a;o.update(M({},o.props,o.merged),!0)}}},t.stop=function(e){void 0===e&&(e=!1),xe=Re=Ae=we=be=void 0,e&&D(this.animations).forEach(function(e){return e.changes=void 0}),this.isActive=!1,i(this.frame),this.debouncedOnEnd({finished:e})},t.debouncedOnEnd=function(e){this.isActive=!1;var t=this.onEnd;this.onEnd=null,t&&t(e)},e}();function Ie(e){var t=e.onRest,r=e.onKeyframesHalt,n=void 0===r?function(){return null}:r,i=e.updatePropsOnRerender,a=void 0===i||i,o=O(e,["onRest","onKeyframesHalt","updatePropsOnRerender"]),u=V.useState(new qe(o))[0],s=V.useState()[1],l=t?function(e){return e.finished&&t(u.merged)}:n(u),c=V.useCallback(function(e){u.update(e,l),g(function(){return e.reset&&s()})},[t,n]);return V.useEffect(function(){a&&c(o)}),[u.getValues(),function(e){return c(e)},function(e){return void 0===e&&(e=!1),u.stop(e)}]}function We(e){var t=e.items,s=e.delay,r=e.reverse,n=e.onKeyframesHalt,i=void 0===n?function(){return null}:n,a=e.updatePropsOnRerender,o=void 0===a||a,u=e.onRest,l=O(e,["items","delay","reverse","onKeyframesHalt","updatePropsOnRerender","onRest"]),c=V.useRef(),f=V.useRef(),d=W(t),p=V.useRef(!1),h=V.useState()[1],m=u?function(t){return function(e){e.finished&&p.current&&u(t.merged)}}:i;f.current!==t&&(c.current=new Map(d.map(function(e,t){return[t,new qe(l)]})));var v=V.useCallback(function(n){var e=function(){if(a){if(o>=i.length)return"break";u=i[o++]}else{if((o=i.next()).done)return"break";u=o.value}var e=u,t=e[0],r=e[1];0===t&&r.update(M({delay:s},n,{attach:void 0})),r.update(M({},n,{attach:function(){return c.current.get(t-1)}}),c.current.size-1===t&&m(r))},i=c.current.entries(),a=Array.isArray(i),o=0;for(i=a?i:i[Symbol.iterator]();;){var u;if("break"===e())break}g(function(){return n.reset&&h()})},[u]);return V.useEffect(function(){return p.current=!0,function(){p.current=!1}},[]),V.useLayoutEffect(function(){f.current=t,o&&v(l)}),[d.map(function(e,t){return{item:e,props:c.current.get(r?c.current.size-(t+1):t).getValues()}}),function(e){return v(e)},function(e){void 0===e&&(e=!1);var t=c.current.entries(),r=Array.isArray(t),n=0;for(t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}i[1].stop(e)}}]}function Le(n,i,a,o,t){if(Array.isArray(n))for(var u=Promise.resolve(),e=function(e){var t=n[e],r=e===n.length-1;u=u.then(function(){return o(M({config:i&&(Array.isArray(i)?i[e]:i)},a(t)),r)})},r=0;r<n.length;r++)e(r);else if("function"==typeof n){var s=0;n(function(e,t){void 0===t&&(t=!1);var r=M({config:i&&Array.isArray(i)?i[s++]:i},a(e));return o(r,t)},function(e){return void 0===e&&(e=!0),t&&t(e)})}else o(M({config:i&&Array.isArray(i)?i[0]:i},a(n)),!0)}function ze(o,u,s,l,c,f){return void 0===o&&(o={current:null}),void 0===u&&(u={current:null}),void 0===l&&(l={current:{onKeyframeRest:null}}),void 0===c&&(c={current:!1}),function(i,a){return new Promise(function(e){var t=i||{},r=t.onRest,n=O(t,["onRest"]);l.current.onKeyframeRest=r,o.current=e,u.current=a,s&&s(n),c.current&&g(function(){c.current=!1,f()})})}}var De=function(x){return function(A,R){return void 0===R&&(R=null),function(a){void 0===a&&(a="__default");var e,u,s,l,c,t=V.useRef(null),o=V.useRef({onRest:null,onKeyframeRest:null}),r=V.useRef(!0),n=V.useRef(!1),i=V.useState()[1],f=V.useRef(!R),d=function(){var e;if(Array.isArray(A)||"function"==typeof A)return{states:(e={},e[a]=A,e)};var t=A.onRest,r=A.config,n=A.filter,i=O(A,["onRest","config","filter"]);return o.current.onRest=t,{states:i,config:r,filter:n}}(),p=d.states,h=d.config,m=d.filter,v=void 0===m?function(e){return e}:m,g=x(M({},R,{onKeyframesHalt:(e={resolverRef:t,lastRef:r,mounted:n,onRestRef:o},u=e.resolverRef,s=e.lastRef,l=e.mounted,c=e.onRestRef,function(o){return function(e){var t=e.finished;u.current&&u.current();var r=o&&o.merged,n=c.current,i=n.onRest,a=n.onKeyframeRest;t&&s.current&&l.current&&(a&&a(r),i&&i(r))}}),updatePropsOnRerender:!1})),y=g[0],b=g[1],w=g[2],k=ze(t,r,b,o,f,i);return V.useEffect(function(){return n.current=!0,function(){return n.current=!1}},[]),V.useEffect(function(){n.current&&Le(p[a],z(h,a),v,k,w)},[a]),f.current&&Array.isArray(y)?[]:y}}},He={spring:function(e){return De(Ie)(e)},trail:function(e){return De(We)(e)}},Ne=0,Ue=function(e){var t=e.items,r=e.keys,n=void 0===r?function(e){return e}:r,i=O(e,["items","keys"]);return t=W(void 0!==t?t:null),n="function"==typeof n?t.map(n):W(n),M({items:t,keys:n},i)};var _e,Ge,$e,Be,Ze,Je=(Be=[],_e=function(e,t){var r=e.current;t(M({},r,{deleted:r.deleted.filter(function(t){return-1===Be.findIndex(function(e){return e.originalKey===t.originalKey})})})),Be=[]},void 0===(Ge=200)&&(Ge=0),Ze=function(){var e=this,t=arguments;clearTimeout($e),$e=setTimeout(function(){return _e.apply(e,t)},Ge)},function(e,t,r){Be.push(e),Ze(t,r)});var Qe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce(function(e,t){return e[t]=pe(t),e},pe);e.config={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},e.animated=Qe,e.interpolate=function(e,t,r){return e&&new x(e,t,r)},e.Globals=h,e.useSpring=Ie,e.useTrail=We,e.useTransition=function(n){var e=Ue(n),h=(e.items,e.keys,e.trail,e.from),m=e.initial,v=e.onRest,g=e.onDestroyed,t=(e.unique,e.filter),y=void 0===t?function(e){return e}:t,b=(O(e,["items","keys","trail","from","initial","onRest","onDestroyed","unique","filter"]),V.useRef(new Map([]))),w=V.useRef(!0),k=V.useRef(!1),A=V.useRef({}),r=V.useState({deleted:[],current:{},transitions:[],prevProps:null}),i=r[0],R=r[1],x=V.useRef(i);x.current=i;var a=V.useMemo(function(){return function(e,t){var r=e.prevProps,n=O(e,["prevProps"]),i=Ue(r||{}),a=i.keys,o=(i.items,Ue(t)),u=o.keys,s=o.items,l=o.unique,c=o.trail,f=o.update,d=o.enter,p=o.leave,h=o.config,m=new Set(u),v=new Set(a),g=n.deleted.concat(),y=M({},n.current),b=n.transitions.filter(function(e){return!e.destroyed&&!m.has(e.originalKey)}),w=u.filter(function(e){return!v.has(e)}),k=a.filter(function(e){return m.has(e)}),A=0;w.forEach(function(t){var e=u.indexOf(t),r=s[e];l&&g.find(function(e){return e.originalKey===t})&&(g=g.filter(function(e){return e.originalKey!==t})),y[t]={item:r,state:"enter",trail:A+=c,key:l?String(t):Ne++,originalKey:t,destroyed:!1,config:z(h,r,"enter"),to:z(d,r)}}),b.forEach(function(e){var t=e.item,r=O(e,["item"]),n=a.indexOf(t.originalKey);g.unshift(M({},r,{item:t,state:"leave",left:a[Math.max(0,n-1)],right:a[Math.min(a.length,n+1)],destroyed:!0,trail:A+=c,config:z(h,t,"leave"),to:z(p,t)})),delete y[t.originalKey]}),k.forEach(function(e){var t=u.indexOf(e),r=s[t];y[e]=M({},y[e],{item:r,state:"update",destroyed:!1,trail:A+=c,config:z(h,r,"update"),to:z(f,r)})});var R=u.map(function(e){return y[e]});return g.forEach(function(e){var t,r=e.left,n=e.right,i=O(e,["left","right"]);-1!==(t=R.findIndex(function(e){return e.originalKey===r}))&&(t+=1),-1===t&&(t=R.findIndex(function(e){return e.originalKey===n})),t=Math.max(0,t),R=R.slice(0,t).concat([i],R.slice(t))}),{deleted:g,updated:k,current:y,transitions:R}}(i,n)},[n.items,i.deleted]);return V.useEffect(function(){return k.current=!0,function(){k.current=!1}},[]),V.useEffect(function(){var e=a.deleted,t=a.current,r=a.transitions;r.forEach(function(e){var r=e.state,t=e.to,n=e.config,i=e.key,a=e.originalKey,o=e.item,u=e.destroyed;!b.current.has(i)&&b.current.set(i,{ctrl:new qe(M({},h||{},w.current&&m||{},{config:n})),resolve:{current:null},last:{current:!0}});var s=b.current.get(i),l=s.ctrl,c=s.resolve,f=s.last;if("update"===r||r!==A.current[i]){var d=function(e){var t=e.finished;c.current&&c.current(l.merged),f.current&&k.current&&t&&(u&&g&&g(o),u&&Je(a,x,R),v&&v(o,r,l.merged))};A.current[i]=r;var p=ze(c,f,function(e){l.update(e,d)});Le(t,n,y,p,function(e){return void 0===e&&(e=!0),l.stop(e)})}}),w.current=!1,R(M({},i,{deleted:e,current:t,transitions:r,prevProps:n}))},[n.items]),i.transitions.map(function(e){var t=e.item,r=e.state,n=e.key;return{item:t,key:n,state:r,props:b.current.get(n).ctrl.getValues()}})},e.useKeyframes=He,Object.defineProperty(e,"__esModule",{value:!0})});
